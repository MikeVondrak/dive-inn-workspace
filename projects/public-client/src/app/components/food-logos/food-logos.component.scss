@use '../../scss/utility';

.title-callout {
  z-index: 4; // @TODO: why do we need 4 to be above slide-out logo?
  position: relative;

  .title-callout-title {
    display: none;
    position: absolute;
    margin: 0;
    padding: 0;
    text-align: center;
    transform: rotate(-25deg);
    font-size: 1.5vw;
    
    @include utility.media-breakpoint-gte(sm) {
      display: block;
      left: 15vw;
    }
    
    @include utility.media-breakpoint-gte(md) {
      left: 11.3vw;
      font-size: 1.2vw;
    }

    $textColor: utility.$dive-gray-dk2;
    $textColorLt: utility.$dive-yellow;
    $animationTime: 5s;

    div {
      @keyframes attentionBlink {
        0% {
          opacity: 1;
          text-shadow: none;
          color: $textColor;
          transform: scale(1) rotate(25deg);
        }

        2.5% {
          opacity: 1;
          text-shadow: 0px 0px 3px $textColorLt;
          color: $textColorLt;
          transform: scale(1) rotate(25deg);
        }

        5% {
          opacity: 1;
          text-shadow: none;
          color: $textColor;
          transform: scale(1) rotate(25deg);
        }
      }

      @keyframes attentionBlink2 {
        0% {
          opacity: 0;
          text-shadow: none;
          color: $textColor;
        }

        2.5% {
          opacity: 1;
          color: $textColorLt;
          transform: scale(1);
          text-shadow: 0px 0px 3px $textColorLt;
        }

        17.5% {
          opacity: 1;
          color: $textColorLt;
          transform: scale(1);
          text-shadow: 0px 0px 3px $textColorLt;
        }

        29% {
          opacity: 0;
          text-shadow: none;
          color: $textColor;
        }

        30% {
          opacity: 0;
          text-shadow: none;
          color: $textColor;
        }

        32.5% {
          opacity: 1;
          color: $textColorLt;
          text-shadow: 0px 0px 3px $textColorLt;
        }

        47.5% {
          opacity: 1;
          color: $textColorLt;
          text-shadow: 0px 0px 3px $textColorLt;
        }

        54% {
          opacity: 0;
          text-shadow: none;
          color: $textColor;
        }
      }

      position: relative;
      margin: 0;
      padding: 0;
      line-height: 0.9;
      transform: rotate(25deg);
      color: utility.$dive-gray-dk2;
      text-shadow: 2px 2px 2px #000;
      opacity: 1; //0.5;
      animation: attentionBlink $animationTime linear infinite;
      animation-delay: calc(var(--animation-order) * 200ms);

      &::before {
        content: attr(data-content);
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        color: utility.$dive-gray-dk2;
        opacity: 0;
        animation: attentionBlink2 $animationTime linear infinite;
        animation-delay: 2.2s;
      }
    }
  }

  .title-callout-content {
    display: flex;

    a {
      display: block;

      &::after {
        content: none;
      }

      opacity: 0.75;

      @include utility.media-breakpoint-gte(md) {
        opacity: 0.5;
      }

      transition: opacity 0.2s ease;
    }

    .takis {

      &:hover,
      &:active {
        opacity: 1;
      }

      h2 {
        margin: -1vw 0 0;
      }

      img {
        width: clamp(120px, 25vw, 25vw);
        //width: 20vw;

        @include utility.media-breakpoint-gte(sm) {
          width: 16vw;
        }

        @include utility.media-breakpoint-gte(md) {
          width: 12vw;
        }
      }
    }

    .cluck {
      position: relative;
      right: 1vw;

      @include utility.media-breakpoint-gte(sm) {
        right: -2.5vw;
      }

      @include utility.media-breakpoint-gte(md) {
        right: -0.75vw;
      }

      &:hover,
      &:active {
        opacity: 1;
      }

      img {
        width: clamp(90px, 18vw, 18vw);

        @include utility.media-breakpoint-gte(sm) {
          width: 9vw;
        }
      }

      h2 {
        position: absolute;
        top: 64%;
        left: 55%;
        transform: translate(-50%, -50%);
        margin: 0;
        padding: 0;
        line-height: 1;
        font-size: clamp(1.1rem, 2.75vw, 2.75vw);

        @include utility.media-breakpoint-gte(md) {
          font-size: 1.75vw;
        }

        font-family: 'Anton', sans-serif;
        text-align: center;
        text-shadow: 1px 1px 1px utility.$dive-black;
      }
    }
  }
}